<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filip Jasionek // Game of Life</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'VT323', monospace;
            background-color: #0a0a0a;
            color: #fafafa;
            overflow: hidden;
            cursor: crosshair;
        }
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        .crt-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
            background:
                repeating-linear-gradient(0deg, rgba(0,0,0,0.4) 0px, rgba(0,0,0,0.4) 1px, transparent 1px, transparent 2px),
                repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.05) 0px, rgba(255, 255, 255, 0.05) 1px, transparent 1px, transparent 4px);
            animation: flicker 0.15s infinite;
        }
        .crt-glow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 4;
            box-shadow: inset 0 0 120px 60px rgba(0, 0, 0, 0.5);
        }
        @keyframes flicker {
            0% { opacity: 0.95; }
            50% { opacity: 0.9; }
            100% { opacity: 0.95; }
        }
        .glass-panel {
            background-color: rgba(10, 10, 20, 0.4);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 20px rgba(100, 100, 255, 0.15);
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
        .content-section {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            opacity: 0;
            pointer-events: none;
            z-index: 3;
        }
        .content-section.active {
            opacity: 1;
            pointer-events: all;
            transform: translate(-50%, -50%) scale(1);
        }
        .project-card img, .project-card video {
            filter: grayscale(1) brightness(0.8) contrast(1.2);
            transition: all 0.3s ease;
        }
        .project-card:hover img, .project-card:hover video {
            filter: grayscale(0.2) brightness(1) contrast(1);
        }
        .terminal-text::after {
            content: '_';
            animation: blink 1s step-end infinite;
        }
        @keyframes blink {
            50% { opacity: 0; }
        }
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #ff55a3;
        }
        .hover\:text-cyan-300:hover {
            color: #67e8f9;
        }
        .text-outline {
            text-shadow:
                -1px -1px 0 #000,  
                 1px -1px 0 #000,
                -1px  1px 0 #000,
                 1px  1px 0 #000;
        }
    </style>
</head>
<body>
    <canvas id="bg-canvas"></canvas>
    <div class="crt-glow"></div>
    <div class="crt-overlay"></div>

    <div class="absolute top-0 left-0 w-full h-full p-4 sm:p-8 flex flex-col justify-between z-2">
        <header class="flex justify-between items-center w-full max-w-7xl mx-auto">
            <h1 class="text-2xl sm:text-3xl tracking-widest">[FILIP JASIONEK]</h1>
            <nav id="main-nav" class="flex space-x-4 sm:space-x-6 text-sm sm:text-base">
                <a href="#about" class="hover:text-cyan-300 transition-colors duration-300">[ABOUT]</a>
                <a href="#projects" class="hover:text-cyan-300 transition-colors duration-300">[PROJECTS]</a>
                <a href="#contact" class="hover:text-cyan-300 transition-colors duration-300">[CONTACT]</a>
                <a href="#configs" class="hover:text-cyan-300 transition-colors duration-300">[CONFIGS]</a>
            </nav>
        </header>

        <div class="text-center" id="nameSection">
            <h2 class="text-4xl sm:text-6xl font-bold mb-2 text-outline">[Game of Life]</h2>
            <p class="text-lg sm:text-2xl terminal-text text-outline">emergence</p>
        </div>

        <footer class="text-center text-xs text-gray-400 w-full max-w-7xl mx-auto">
            <p>SYSTEM.VERSION_17.2 // CLASSIC RULES</p>
        </footer>
    </div>

    <section id="about" class="content-section glass-panel rounded-lg p-6 sm:p-8">
        <div class="close-btn" onclick="closeAllSections()">[X]</div>
        <h3 class="text-2xl sm:text-3xl mb-4">[BOOT_LOADER: PHILOSOPHY.MD]</h3>
        
        <p class="text-base sm:text-lg leading-relaxed"
            Hi! I'm Filip and I'm currently an undergrad at Boston University. I study mathematics and computer science.
            Perhaps strange, hardware, control, and perception are my areas of interest. You might ask why I am not a major
            in ECE; because I love to read these books in my free time, but find it difficult to sit down and give the
            maths the rigorous treatment it deserves.

            In my free time, I play World of Warcraft (the vanilla expansion) with my brother. I play a human paladin, but I'm
            a mage deep down inside. I have ducks back at home, and I miss them dearly, as well as my cat.

            I dream of the day that I can bring my family eventually to Switzerland. I have some family there, and it looks so
            dreamy and peaceful.
        </p>
    </section>

    <section id="projects" class="content-section glass-panel rounded-lg p-6 sm:p-8">
        <div class="close-btn" onclick="closeAllSections()">[X]</div>
        <h3 class="text-2xl sm:text-3xl mb-6">[LOAD: ./PROJECTS/*]</h3>
        <h3 class="text-2xl sm:text-3xl mb-6">[please email me for more info! happy to talk]</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
             <div class="project-card glass-panel p-4 rounded-md group">
                <a href="pages/bipedal-robot-dev.html">
                    <img src="pages/images/pasted-image-20240830225256.png" alt="Bipedal Robot" class="w-full h-40 object-cover rounded mb-2">
                    <h4 class="text-lg font-bold">Bipedal Robot</h4>
                    <p class="text-sm">A walking machine, from CAD and simulation to reinforcement learning.</p>
                </a>
            </div>
            <div class="project-card glass-panel p-4 rounded-md group">
                <a href="pages/llm.html">
                    <img src="pages/images/gpt2.png" alt="LLM From Scratch" class="w-full h-40 object-cover rounded mb-2">
                    <h4 class="text-lg font-bold">LLM From Scratch</h4>
                    <p class="text-sm">A implementation of a large language model.</p>
                </a>
            </div>
            <div class="project-card glass-panel p-4 rounded-md group">
                <a href="pages/paintings.html">
                    <img src="pages/images/god.jpg" alt="Paintings" class="w-full h-40 object-cover rounded mb-2">
                    <h4 class="text-lg font-bold">Paintings</h4>
                    <p class="text-sm">A gallery of my paintings.</p>
                </a>
            </div>
            <div class="project-card glass-panel p-4 rounded-md group">
                <a href="pages/16bit-computer.html">
                    <img src="pages/images/ram.png" alt="16-bit Computer" class="w-full h-40 object-cover rounded mb-2">
                    <h4 class="text-lg font-bold">16-bit Computer</h4>
                    <p class="text-sm">Building a computer from NAND gates to a full system.</p>
                </a>
            </div>
            <div class="project-card glass-panel p-4 rounded-md group">
                <a href="pages/computer.html">
                    <img src="pages/images/screen01.jpg" alt="Computer CLI" class="w-full h-40 object-cover rounded mb-2">
                    <h4 class="text-lg font-bold">Computer CLI</h4>
                    <p class="text-sm">A command-line assistant for running Python, evaluating math expressions, and interacting with tools.</p>
                </a>
            </div>
            <div class="project-card glass-panel p-4 rounded-md group">
                <a href="pages/mandelbrot.html">
                    <img src="pages/images/fractal.JPG" alt="Mandelbrot Render Engine" class="w-full h-40 object-cover rounded mb-2">
                    <h4 class="text-lg font-bold">Mandelbrot Render Engine</h4>
                    <p class="text-sm">An FPGA implementation of a Mandelbrot rendering engine.</p>
                </a>
            </div>
            <div class="project-card glass-panel p-4 rounded-md group">
            <img src="https://placehold.co/600x400/000000/00ff41?text=More+Projects" alt="More Projects" class="w-full h-40 object-cover rounded mb-2" onerror="this.onerror=null;this.src='https://placehold.co/600x400/0a190f/00ff41?text=Image+Error';">
                <h4 class="text-lg font-bold">Future Endeavors</h4>
                <p class="text-sm">and more...</p>
            </div>
             
        </div>
    </section>

    <section id="contact" class="content-section glass-panel rounded-lg p-6 sm:p-8 text-center">
        <div class="close-btn" onclick="closeAllSections()">[X]</div>
        <h3 class="text-2xl sm:text-3xl mb-4">[ESTABLISH_CONNECTION]</h3>
        <p class="mb-4">Let's build the future, one component at a time.</p>
        <a href="mailto:filjasionek@gmail.com" class="text-yellow-300 text-lg hover:text-white transition-colors duration-300">[SEND_TRANSMISSION]</a>
        <br><br>
        <a href="https://github.com/filthyfil" target="_blank" class="text-cyan-300 text-lg hover:text-white transition-colors duration-300">[GITHUB]</a>
    </section>

    <section id="configs" class="content-section glass-panel rounded-lg p-6 sm:p-8">
        <div class="close-btn" onclick="closeAllSections()">[X]</div>
        <h3 class="text-2xl sm:text-3xl mb-6">[GAME_OF_LIFE_CONFIGURATIONS]</h3>
        <p class="mb-6">Select different starting patterns to see how they evolve according to Conway's Game of Life rules.</p>
        
        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
            <button onclick="setGlider()" class="p-4 glass-panel rounded-lg hover:bg-cyan-900/30 transition-colors duration-300 text-center">
                <h4 class="text-lg font-bold mb-2">[GLIDER]</h4>
                <p class="text-sm">A spaceship that moves diagonally across the grid</p>
            </button>
            
            <button onclick="setToad()" class="p-4 glass-panel rounded-lg hover:bg-cyan-900/30 transition-colors duration-300 text-center">
                <h4 class="text-lg font-bold mb-2">[TOAD]</h4>
                <p class="text-sm">A simple oscillator that toggles between states</p>
            </button>
            
            <button onclick="setPulsar()" class="p-4 glass-panel rounded-lg hover:bg-cyan-900/30 transition-colors duration-300 text-center">
                <h4 class="text-lg font-bold mb-2">[PULSAR]</h4>
                <p class="text-sm">A large oscillator with complex behavior</p>
            </button>
            
            <button onclick="setRandom()" class="p-4 glass-panel rounded-lg hover:bg-cyan-900/30 transition-colors duration-300 text-center">
                <h4 class="text-lg font-bold mb-2">[RANDOM]</h4>
                <p class="text-sm">Generate a new random pattern</p>
            </button>
            
            <button onclick="setClear()" class="p-4 glass-panel rounded-lg hover:bg-red-900/30 transition-colors duration-300 text-center">
                <h4 class="text-lg font-bold mb-2">[CLEAR]</h4>
                <p class="text-sm">Clear the entire grid</p>
            </button>
            
            <button onclick="setPentadecathlon()" class="p-4 glass-panel rounded-lg hover:bg-cyan-900/30 transition-colors duration-300 text-center">
                <h4 class="text-lg font-bold mb-2">[PENTADECATHLON]</h4>
                <p class="text-sm">A 15-cell oscillator with interesting phases</p>
            </button>
            
            <button onclick="toggleViewLock()" class="p-6 glass-panel rounded-xl hover:bg-red-900/40 transition-all duration-300 text-center border-2 border-red-400/60 shadow-lg hover:shadow-red-500/25 transform hover:scale-105 col-span-2 md:col-span-3" id="viewLockBtn">
                <h4 class="text-xl font-bold text-red-300 mb-2">[LOCK_VIEW]</h4>
                <p class="text-sm text-red-200">Lock the camera view straight on</p>
            </button>
        </div>
    </section>

    <script>
        // --- Three.js Scene Setup ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.position.set(0, 0, 30); // Positioned for a top-down view
        camera.lookAt(0, 0, 0);

        const container = new THREE.Group();
        scene.add(container);
        
        // --- 2D Game of Life Setup ---
        const gridSize = 30;
        const cellSize = 1;
        const gridSpacing = 1.2;
        const gridCenter = (gridSize - 1) * gridSpacing / 2;

        let currentGrid = new Uint8Array(gridSize * gridSize);
        let nextGrid = new Uint8Array(gridSize * gridSize);

        // --- Instanced Mesh for performance ---
        const geometry = new THREE.BoxGeometry(cellSize, cellSize, cellSize);
        const material = new THREE.MeshBasicMaterial({ color: 0x777777, transparent: true, opacity: 0.8 }); // Changed color to white
        const instancedMesh = new THREE.InstancedMesh(geometry, material, gridSize * gridSize);
        container.add(instancedMesh);
        
        // --- Initial State (Randomized 2D Grid) ---
        const dummy = new THREE.Object3D();
        let instanceCount = 0;
        
        // Initialize with random state
        function initializeRandom() {
            for (let x = 0; x < gridSize; x++) {
                for (let y = 0; y < gridSize; y++) {
                    const index = x + y * gridSize;
                    if (Math.random() > 0.7) { // Populate ~30% of cells
                       currentGrid[index] = 1;
                    }
                }
            }
        }
        
        // Game of Life configuration functions
        function setGlider() {
            // Clear the grid
            currentGrid.fill(0);
            // Place a glider in the center
            const centerX = Math.floor(gridSize / 2);
            const centerY = Math.floor(gridSize / 2);
            const glider = [
                [0, 1, 0],
                [0, 0, 1],
                [1, 1, 1]
            ];
            for (let i = 0; i < 3; i++) {
                for (let j = 0; j < 3; j++) {
                    if (glider[i][j]) {
                        const x = centerX + i - 1;
                        const y = centerY + j - 1;
                        if (x >= 0 && x < gridSize && y >= 0 && y < gridSize) {
                            currentGrid[x + y * gridSize] = 1;
                        }
                    }
                }
            }
            updateMesh();
        }
        
        function setToad() {
            currentGrid.fill(0);
            const centerX = Math.floor(gridSize / 2);
            const centerY = Math.floor(gridSize / 2);
            // Toad pattern - a simple oscillator
            const toad = [
                [0, 1, 1, 1],
                [1, 1, 1, 0]
            ];
            for (let i = 0; i < 2; i++) {
                for (let j = 0; j < 4; j++) {
                    if (toad[i][j]) {
                        const x = centerX + j - 2;
                        const y = centerY + i - 1;
                        if (x >= 0 && x < gridSize && y >= 0 && y < gridSize) {
                            currentGrid[x + y * gridSize] = 1;
                        }
                    }
                }
            }
            updateMesh();
        }
        
        function setPulsar() {
            currentGrid.fill(0);
            const centerX = Math.floor(gridSize / 2);
            const centerY = Math.floor(gridSize / 2);
            // Pulsar pattern
            const pulsar = [
                [0,0,1,1,1,0,0,0,1,1,1,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0],
                [1,0,0,0,0,1,0,1,0,0,0,0,1],
                [1,0,0,0,0,1,0,1,0,0,0,0,1],
                [1,0,0,0,0,1,0,1,0,0,0,0,1],
                [0,0,1,1,1,0,0,0,1,1,1,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,1,1,1,0,0,0,1,1,1,0,0],
                [1,0,0,0,0,1,0,1,0,0,0,0,1],
                [1,0,0,0,0,1,0,1,0,0,0,0,1],
                [1,0,0,0,0,1,0,1,0,0,0,0,1],
                [0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,1,1,1,0,0,0,1,1,1,0,0]
            ];
            
            for (let i = 0; i < pulsar.length; i++) {
                for (let j = 0; j < pulsar[i].length; j++) {
                    if (pulsar[i][j]) {
                        const x = centerX + j - 6;
                        const y = centerY + i - 6;
                        if (x >= 0 && x < gridSize && y >= 0 && y < gridSize) {
                            currentGrid[x + y * gridSize] = 1;
                        }
                    }
                }
            }
            updateMesh();
        }
        
        function setPentadecathlon() {
            currentGrid.fill(0);
            const centerX = Math.floor(gridSize / 2);
            const centerY = Math.floor(gridSize / 2);
            // Pentadecathlon pattern
            const pentadecathlon = [
                [0,1,0],
                [1,1,1],
                [0,1,0],
                [0,1,0],
                [0,1,0],
                [0,1,0],
                [0,1,0],
                [0,1,0],
                [0,1,0],
                [0,1,0],
                [0,1,0],
                [0,1,0],
                [0,1,0],
                [0,1,0],
                [0,1,0]
            ];
            
            for (let i = 0; i < pentadecathlon.length; i++) {
                for (let j = 0; j < pentadecathlon[i].length; j++) {
                    if (pentadecathlon[i][j]) {
                        const x = centerX + j - 1;
                        const y = centerY + i - 7;
                        if (x >= 0 && x < gridSize && y >= 0 && y < gridSize) {
                            currentGrid[x + y * gridSize] = 1;
                        }
                    }
                }
            }
            updateMesh();
        }
        
        function setRandom() {
            currentGrid.fill(0);
            initializeRandom();
            updateMesh();
        }
        
        function setClear() {
            currentGrid.fill(0);
            updateMesh();
        }
        
        // Initialize with random state
        initializeRandom();
        
        function updateMesh() {
            instanceCount = 0;
            for (let x = 0; x < gridSize; x++) {
                for (let y = 0; y < gridSize; y++) {
                    const index = x + y * gridSize;
                    if (currentGrid[index] === 1) {
                        dummy.position.set(
                            x * gridSpacing - gridCenter,
                            y * gridSpacing - gridCenter,
                            0 // Set z-position to 0 for a flat 2D plane
                        );
                        dummy.updateMatrix();
                        instancedMesh.setMatrixAt(instanceCount++, dummy.matrix);
                    }
                }
            }
            instancedMesh.instanceMatrix.needsUpdate = true;
            instancedMesh.count = instanceCount;
        }

        // --- Simulation Logic ---
        function updateSimulation() {
            for (let x = 0; x < gridSize; x++) {
                for (let y = 0; y < gridSize; y++) {
                    const index = x + y * gridSize;
                    let neighbors = 0;

                    // Count neighbors (8 directions)
                    for (let dx = -1; dx <= 1; dx++) {
                        for (let dy = -1; dy <= 1; dy++) {
                            if (dx === 0 && dy === 0) continue;
                            
                            const nx = (x + dx + gridSize) % gridSize;
                            const ny = (y + dy + gridSize) % gridSize;
                            
                            const neighborIndex = nx + ny * gridSize;
                            neighbors += currentGrid[neighborIndex];
                        }
                    }

                    // Apply classic 2D Game of Life rules (B3/S2,3)
                    const isAlive = currentGrid[index] === 1;
                    if (isAlive) { // Cell is alive
                        if (neighbors < 2 || neighbors > 3) {
                            nextGrid[index] = 0; // Dies by underpopulation or overpopulation
                        } else {
                            nextGrid[index] = 1; // Survives
                        }
                    } else { // Cell is dead
                        if (neighbors === 3) {
                            nextGrid[index] = 1; // Born
                        } else {
                            nextGrid[index] = 0; // Stays dead
                        }
                    }
                }
            }
            // Swap grids for the next iteration
            [currentGrid, nextGrid] = [nextGrid, currentGrid];
        }

        // --- Mouse Controls for Rotation (disabled for 2D view) ---
        let isDragging = false;
        let previousMousePosition = { x: 0, y: 0 };
        let viewLocked = true;
        
        renderer.domElement.addEventListener('mousedown', (e) => { isDragging = true; });
        renderer.domElement.addEventListener('mouseup', (e) => { isDragging = false; });
        // Mouse drag rotation is disabled for a clearer 2D presentation
        
        function toggleViewLock() {
            viewLocked = !viewLocked;
            const btn = document.getElementById('viewLockBtn');
            const nameSection = document.getElementById('nameSection');
            
            if (viewLocked) {
                // Reset to straight-on view when locking
                container.rotation.x = 0;
                container.rotation.y = 0;
                // Hide the name section
                nameSection.style.opacity = '0';
                nameSection.style.pointerEvents = 'none';
                btn.innerHTML = '<h4 class="text-xl font-bold text-green-300 mb-2">[UNLOCK_VIEW]</h4><p class="text-sm text-green-200">Unlock camera rotation</p>';
                btn.className = 'p-6 glass-panel rounded-xl hover:bg-green-900/40 transition-all duration-300 text-center border-2 border-green-400/60 shadow-lg hover:shadow-green-500/25 transform hover:scale-105 col-span-2 md:col-span-3';
            } else {
                // Show the name section
                nameSection.style.opacity = '1';
                nameSection.style.pointerEvents = 'auto';
                btn.innerHTML = '<h4 class="text-xl font-bold text-red-300 mb-2">[LOCK_VIEW]</h4><p class="text-sm text-red-200">Lock the camera view straight on</p>';
                btn.className = 'p-6 glass-panel rounded-xl hover:bg-red-900/40 transition-all duration-300 text-center border-2 border-red-400/60 shadow-lg hover:shadow-red-500/25 transform hover:scale-105 col-span-2 md:col-span-3';
            }
        }

        // --- Animation Loop ---
        let lastUpdateTime = 0;
        const updateInterval = 0.33; // seconds

        function animate(time) {
            requestAnimationFrame(animate);
            const elapsedTime = time / 1000;
            
            // Auto-rotate for a dynamic effect (only when view is not locked)
            if (!viewLocked) {
                container.rotation.y += 0.001;
                container.rotation.x += 0.0005;
            }

            if (elapsedTime - lastUpdateTime > updateInterval) {
                updateSimulation();
                updateMesh();
                lastUpdateTime = elapsedTime;
            }

            renderer.render(scene, camera);
        }
        updateMesh();
        animate(0);

        // --- Window Resize Handling ---
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // --- UI Interaction ---
        const navLinks = document.querySelectorAll('#main-nav a');
        const sections = document.querySelectorAll('.content-section');

        function closeAllSections() {
            sections.forEach(s => s.classList.remove('active'));
        }

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                closeAllSections();
                const targetId = link.getAttribute('href');
                document.querySelector(targetId).classList.add('active');
            });
        });
    </script>

    
</body>
</html>
